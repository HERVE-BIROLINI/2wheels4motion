<!-- settings variables for Icon managing -->
{% set sImgPath="build/images/" %}
{% set sFaviconFullname=sImgPath ~ "banner/favicon.png" %}

<!DOCTYPE html>
<html lang="fr">
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- -->
        <meta name="description" content="Annuaire moto-taxi taxi-moto toute la France"/>
        <meta name="author" content="BIROLINI Herve"/>
        
        <link rel="icon" type="image/png" href="{{ asset(sFaviconFullname) }}"/>
        <title>{% block title %}2 Wheels 4 Motion{% endblock %}</title>
        {# Run `composer require symfony/webpack-encore-bundle`
            and uncomment the following Encore helpers to start using Symfony UX
        #}
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}
        <!-- LINK nécessaire pour bénéficier de la balise I, de CDN Font Awesome -->
        <!-- <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/> -->
    </head>

    <body>

        <!-- Bouton "fixe" à afficher en même temps que toute Modale -->
        <div class="btn--circle btn--hidemodal modal--closing" id="btn--modal--closing" style="display:none;">X</div>
        
        <!-- {# ["ROLE_ADMIN"] #} -->
        <header id="section--header">
            {% if app.user %}
            <div class="align-self-end mt-1 mr-3">
                <b>Bonjour et bienvenue {{ app.user.firstname }}</b>
            </div>
            {% endif %}
            <!-- Container nécessaire pour occuper 100% de la largeur du Header -->
            <div class="container--nav">
                <!-- DEBUT Logo & Marque -->
                <div id="nav--brand">
                    <a href="{{ path('homepage') }}"><img class="nav--logo" src="{{ asset(sFaviconFullname) }}" alt="logo annuaire moto-taxi"></img></a>
                    <div class="nav--words">
                        <h4>2Wheels4Motion:</h4>
                        <h5 class="ml-2">"Les transferts qui (r)assurent"</h5>
                    </div>
                </div>
                <!-- DEBUT Menu de navigation -->
                <div class="nav--bar navbar navbar-expand-lg navbar-light"><!--  bg-dark"> -->
                    <!-- DEBUT bouton "Burger" -->
                    <button class="navbar-toggler" type="button" title="BurgerButton" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <!-- FIN bouton "Burger" -->
                    <div class="collapse navbar-collapse nav--menu">
                        <!-- Menus 'permanents' -->
                        <ul class="navbar-nav">
                            <li class="nav-item dropdown">
                                <a class="nav-link" href="{{ path('homepage') }}">
                                    Le Taxi-moto
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link" href="{{ path('driver_presentation') }}">
                                    Les pilotes
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link" href="{{ path('flatrate_index') }}">
                                    Tarification/Paiement
                                </a>
                            </li>
                        </ul>
                        <!-- * Menus 'contextuels' * -->
                        {# Si l'utilisateur EST DEJA identifié #}
                        <!-- Menus 'contextuels' -->
                        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                        <!-- {#{% if app.user %}#} -->
                        <ul class="navbar-nav ml-0">
                            <!-- page(s) profil utilisateur -->
                            <li class="nav-item">
                                <a class="nav-link" href="{{ path('profile_user', {'id': app.user.id}) }}">
                                    <i class="ri-profile-line"></i>&ensp;{{ app.user.firstname }} {{ app.user.lastname }}
                                </a>
                            </li>
                            <!-- page(s) profil administrateur -->
                            {% if is_granted("ROLE_ADMIN") %}
                            <li class="nav-item ">
                                <!--dropdown">
                                <a class="nav-link dropdown-toggle" href="{{ path('profile_user', {'id': app.user.id}) }}" id="navbarDropdown" role="button" data-toggle="dropdown">
                                -->
                                <a class="nav-link" href="{{ path('admin_index') }}">
                                    <i class="ri-admin-line"></i>
                                    Administration
                                </a>
                                <!-- <div class="dropdown-menu">
                                    <a class="dropdown-item" href="{#{{ path('...') }}#}">...</a>
                                    <a class="dropdown-item" href="{#{{ path('...') }}#}">...</a>
                                </div> -->
                            </li>
                            {% endif %}
                            <!-- Lien de déconnexion -->
                            <li class="nav-item">
                                <a class="nav-link" href="{{ path('app_logout') }}">
                                    <i class="ri-logout-circle-r-line"></i>&ensp;Déconnexion
                                </a>
                                <!-- <a class="nav-link" href="{#{{ path('app_logout') }}#}">Déconnexion</a> -->
                            </li>
                        </ul>
                        <!-- Si l'utilisateur N'est PAS encore identifié -->
                        {% else %}
                        <ul class="navbar-nav ml-0">
                            <li class="nav-item">
                                <a class="nav-link" href="{{ path('app_login') }}">
                                    <i class="ri-login-box-line"></i>&ensp;Connexion
                                </a>
                            </li>
                        </ul>
                        {% endif %}
                    </div>
                </div>
            </div>
        </header>

    <!-- IS_AUTHENTICATED_FULLY ? -->
    <!-- {#{{ dump(is_granted('IS_AUTHENTICATED_FULLY')) }}#} -->

        {% block body %}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}

        <div class="btn--circle" id="uptotop"><a href="#section--header" title="title"><i class="ri-arrow-up-line"></i></a></div>
    </body>
</html>
