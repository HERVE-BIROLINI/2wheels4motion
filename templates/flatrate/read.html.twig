
{% extends 'base.html.twig' %}
{% set Title="... des tarifs" %}
{% block title %}{{ parent() }} - {{ Title }}{% endblock %}

{% block body %}

<!-- Admin Controller banner -->
{{ include('admin/banner.html.twig') }}

<section class="paragraph--large" id="section--presentation">
    <div class="d-flex flex-row flex-wrap justify-content-between">
        <h2 class="title--h2" id="flatrates--title">Les tarifs...</h2>
        <a class="btn btn-sm btn--green" href="{{ path('flatrate_create') }}">
            <i class="ri-add-circle-line"></i>&ensp;Ajouter un nouveau tarif
        </a>
    </div>
    {% if flatrates %}
    <table class="table table-striped table--txtlight">
        <thead class="thead--dark">
            <tr>
                <th style="width:5%;"></th>
                <th>Dépt/Région</th>
                <th>Libellé</th>
                <th>Prix</th>
                <th>Prise en charge incluse (forfait)</th>
                <th>Actions
                    <!-- &nbsp; -->
                </th>
            </tr>
        </thead>
        <tbody>
            {% for flatrate in flatrates %}
            <tr>
                <td></td>
                <td>
                    {% if flatrate.departmentcode %}
                        {% set obDepartment=getdepartmentbycode(flatrate.departmentcode) %}
                        {{ obDepartment.name~' / '~getregionbycode(obDepartment.region_code).name }}
                    {% else %}
                    -
                    {% endif %}
                </td>
                <td>{{ flatrate.label }}</td>
                <td>{{ flatrate.price }}</td>
                <td>
                    <div class="d-flex flex-row">
                        <div class="col-4"></div>
                        <div>
                            {% if flatrate.pickupincluded %}
                            <img class="img--boolean"
                                src="{{ asset(sImgPath ~'misc/true.png') }}"
                                alt="image pour booléen TRUE"
                            >
                            {% else %}
                            <img class="img--boolean"
                                src="{{ asset(sImgPath ~'misc/false.png') }}"
                                alt="image pour booléen FALSE"
                            >
                            {% endif %}
                            {#<input type="checkbox" name="pickupincluded" disabled
                                {% if flatrate.pickupincluded %}checked{% endif %}
                            />#}
                        </div>
                    </div>
                </td>
                <td class="d-flex flex-row">
                    <a class="btn btn-sm btn--blue" href="{{ path('flatrate_update', {'flatrate': flatrate.id}) }}" title="Modifier" class="mr-2">
                        <i class="ri-edit-2-line"></i>&ensp;Modifier
                    </a>
                    &emsp;
                    {{ include('flatrate/_delete_form.html.twig') }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="4"></td>
            </tr>
        </tfoot>
    </table>
    {% endif %}
</section>


{% endblock %}
